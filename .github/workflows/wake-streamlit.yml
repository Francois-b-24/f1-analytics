name: Wake Up Streamlit App

on:
  schedule:
    # 2 fois par jour (07h et 19h UTC) -> 08h et 20h en France en hiver, 09h / 21h en été
    - cron: "0 7,19 * * *"
  workflow_dispatch:  # pour le lancer à la main depuis l'onglet Actions

jobs:
  wake-apps:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Setup Python
        uses: actions/setup-python@v5
        with:
          python-version: "3.11"

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install requests

      - name: Run wake script
        run: python wake_streamlit.py